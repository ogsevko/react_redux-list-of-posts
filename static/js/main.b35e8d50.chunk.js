(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{24:function(e,t,n){e.exports=n(36)},33:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),s=n.n(c),u=n(3),l=n(22),o=(n(33),n(12)),i=n.n(o),m=n(19),p=n(5),d=n(20),f=n(21),E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return!0;case"FINISH_LOADING":return!1;default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE":return t.message;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.payload;default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return t.value;default:return e}};function y(e){return fetch(e).then((function(e){return e.json()}))}var g=Object(p.combineReducers)({loading:E,message:v,posts:b,query:h}),O=function(e){return e.loading},j=function(e){return e.message},S=function(e){return e.posts},_=function(e){return e.query},T="https://mate-academy.github.io/react_dynamic-list-of-posts/api/",N=Object(p.createStore)(g,Object(d.composeWithDevTools)(Object(p.applyMiddleware)(f.a))),w=function(){var e=Object(u.b)(),t=Object(u.c)(O);return r.a.createElement("button",{type:"button",onClick:function(){return e(function(){var e=Object(m.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"START_LOADING"}),e.prev=1,e.next=4,y("".concat(T,"posts.json"));case 4:return n=e.sent,e.next=7,y("".concat(T,"users.json"));case 7:return a=e.sent,e.next=10,y("".concat(T,"comments.json"));case 10:r=e.sent,t({type:"SET_POSTS",payload:{posts:n,users:a,comments:r}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t({type:"SET_MESSAGE",message:"Error occurred when loading data"});case 17:t({type:"FINISH_LOADING"});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}())},disabled:t},t?"Loading...":"Load")},x=n(23),I=n(15),A=function(e){var t=e.comments;return r.a.createElement("ul",{className:"comment-list"},r.a.createElement("h3",null,"Comments:"),t.map((function(e){return r.a.createElement("li",{key:e.id,className:"comment-list__item"},r.a.createElement("h4",null,e.name),r.a.createElement("p",null,e.body),r.a.createElement("span",null,e.email))})))},k=function(e){var t=e.user;return r.a.createElement("div",{key:t.id,className:"post__user"},r.a.createElement("span",null,"".concat(t.name," | ")),r.a.createElement("span",null,"".concat(t.email," | ")),r.a.createElement("span",null,Object.values(t.address).slice(0,Object.values(t.address).length-2).join(", ")))},R=function(e){var t=e.comments,n=e.user,a=e.post;return r.a.createElement("li",{className:"post"},r.a.createElement("h1",null,a.title),r.a.createElement("p",null,a.body),r.a.createElement(k,{user:n}),r.a.createElement(A,{comments:t}))},L=function(){var e,t=Object(u.c)(S),n=Object(u.c)(_);if(""!==n){var a=new RegExp(n,"ig");e={posts:t.posts.filter((function(e){return a.test(e.title)||a.test(e.body)})),users:Object(I.a)(t.users),comments:Object(I.a)(t.comments)}}else e=Object(x.a)({},t);return r.a.createElement("ul",{className:"post-list"},e.posts.map((function(e){var n=t.users.find((function(t){return t.id===e.userId})),a=t.comments.filter((function(t){return t.postId===e.id}));return r.a.createElement(R,{key:e.id,comments:a,user:n,post:e})})))},G=function(){var e=Object(u.b)(),t=Object(u.c)(O),n=Object(u.c)(j)||"Ready!",a=Object(u.c)(S),c=Object(u.c)(_);return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Redux list of posts"),r.a.createElement("h2",null,t?"Loading...":n),a.posts?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Search:"),r.a.createElement("input",{type:"text",value:c,onChange:function(t){return n=t.target.value,void e(function(e){return{type:"SET_QUERY",value:e}}(n));var n}}),r.a.createElement(L,null)):r.a.createElement(w,null))},D=function(){return r.a.createElement(u.a,{store:N},r.a.createElement(l.a,null,r.a.createElement(G,null)))};s.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.b35e8d50.chunk.js.map